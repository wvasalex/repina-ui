<div class="gallery row-column">
  <div>
    <r-agency-image
      *ngIf="elements[0]"
      [id]="elements[0].id"
      [props]="elements[0].props"
      [contentFile]="elements[0].content_file"
      [editor]="editor"
    ></r-agency-image>
  </div>
  <r-grid-text>
    <div class="column mh-4">
      <div
        [r-block]="editor"
        [innerHTML]="$getValue('title')"
        (contentChanged)="$contentChanged($event, 'title')"
        class="h2"
      ></div>
      <div
        [r-block]="editor"
        [innerHTML]="$getValue('text')"
        (contentChanged)="$contentChanged($event, 'text')"
        class="text32 mt-1"
      ></div>

      <div class="mt-3">
        <a
          *ngIf="!editor; else buttonEditor"
          [routerLink]="$link()"
          [queryParams]="$queryParams()"
        >
          <r-button>
            {{$getValue('buttonText')}}
          </r-button>
        </a>
      </div>
    </div>
  </r-grid-text>
</div>

<ng-template #buttonEditor>
  <div class="column">
    <r-input
      [(ngModel)]="props.buttonText"
    >
      <r-input-label>Текст кнопки</r-input-label>
    </r-input>
    <r-input
      [(ngModel)]="props.buttonHref"
    >
      <r-input-label>Ссылка кнопки</r-input-label>
    </r-input>
  </div>
</ng-template>
